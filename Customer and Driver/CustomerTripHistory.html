<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
   <script type="text/javascript" src="app.js"></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>Aaspas cabs</title>


  <!-- slider stylesheet -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

  <!-- fonts style -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="css/responsive.css" rel="stylesheet" />
  
  <style>
.card{
display: flex;
justify-content: center;

}

.ride1{
background-color: #FFFDD0;
  width: 300px;
  border: 2px solid grey;
  padding: 2px;
  margin: 15px;
  
}
</style>
<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  
</head>

<body class="sub_page">

  <div class="hero_area">
    <!-- header section strats -->
    <header class="header_section">
      <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index.html">
            <span>
             aspas cabs
            </span>
          </a>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="d-flex ml-auto flex-column flex-lg-row align-items-center">
              <ul class="navbar-nav  ">
                <li class="nav-item active">
                  <a class="nav-link" href="WelcomeCustomer.html">Home <span class="sr-only">(current)</span></a>
                </li>
                </li>
				<li class="nav-item">
                  <a class="nav-link" href="CustomerProfile.html">pROFILE</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="LoginPage.html">Logout</a>
                </li>
				
				
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>
    <!-- end header section -->
  </div>
   
<div class="cent">
  <!-- contact section -->
  
<body onload="load()">
<div id="myform">
  <section class="contact_section layout_padding">
    

    <div class="container-fluid">
      <div class="row">
        <div class="col-md-5  offset-md-1">
          
        <div class="card">
            <div class="card-body">
                <!-- <i class="fa fa-pen fa-xs edit"></i> -->
                <div class="container"><b>RIDE HISTORY</b>
  
                  <table class="table table-bordered table-hover">
                    <thead class="table-secondary">
                      <tr>
                        <th scope="col">Trip Id</th>
                        <th scope="col">source</th>
                        <th scope="col">destination</th>
                        <th scope="col">Date</th>
                        <th scope="col">TotalFare</th>
                        <th scope="col">Action</th>
                      </tr>
                    </thead>
                    <tbody id="table_body">   
                    </tbody>
                  </table>
                </div>
            </div>
          </div>
   

<div id="employeedivcontainer">
</div>
</div>  
        </div>
        </div>
        <!-- <div class="col-md-6 px-0">
          <div class="img-box">
            <img src="images/contact-img.png" alt="">
          </div>
        </div> -->
      </div>
      
    </div>
  </section>
  </div>
<style>
#myform {
  font-family: Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
  text-align: center;
}

#myform td, #myform th {
  border: 1px solid grey;
  padding: 8px;
  text-align: center;
}

#myform tr:nth-child(even){background-color: #F8EFE4;}

#myform tr:hover {background-color: #ddd;}

#myform th {
  padding-top: 50px;
  padding-bottom: 12px;
  text-align: left;
  background-color: #FFCC00;
  color: white;
  text-align: center;
}



#myTableData {
  font-family: Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
  text-align: center;
 
  
}

#myTableData td, #myform th {
  border: 1px ;
  padding: 8px;
  text-align: center;
}

#myTableData tr:nth-child(even){background-color: #F8EFE4;}

#myTableData tr:hover {background-color: #ddd;}

#myTableData th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: #F8EFE4;
  color: white;
  text-align: center;
  
  
}
</style>

         
  <!-- end contact section -->

  <!-- info section -->

  
        

  </section>

  <!-- end info section -->

  <!-- footer section -->
  <section class="container-fluid footer_section">
    <div class="container">
      <p>
       
        <a href="https://html.design/"></a>
      </p>
    </div>
  </section>
  <!-- footer section -->

  <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
  <script type="text/javascript" src="js/bootstrap.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
  </script>


  <!-- owl carousel script -->
  <script type="text/javascript">
    $(".owl-carousel").owlCarousel({
      loop: true,
      margin: 20,
      navText: [],
      autoplay: true,
      autoplayHoverPause: true,
      responsive: {
        0: {
          items: 1
        },
        768: {
          items: 2
        },
        1000: {
          items: 2
        }
      }
    });
   
  //email send function
  const formData = {
      email:sessionStorage.getItem("cemail"),
};

const configObj = {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Accept": "application/json",
    Authorization: 'Bearer ' + sessionStorage.getItem("token")
  },
  body: JSON.stringify(formData)
};



 fetch('http://localhost:8082/login/customer/viewCustomerTripHistory',configObj).then((data)=>{
  return data.json();/// convert to object
 }).then((ObjectData)=>{
  console.log(ObjectData);
 var tableData = "";
ObjectData.trips.map((values)=>{
tableData += '<tr> <td>'+values.trip_id+'</td>'+
  '<td>'+values.source+'</td>'+
  '<td>'+values.destination+'</td>'+
  '<td>'+values.tripDate+'</td>'+
  '<td>'+values.totalFare+'</td>'+
  '<td> <button class = "btn btn-outline-warning" onclick = "MoreInfo('+values.trip_id+')" >MORE INFO</button></td>'+

  '</tr>';
  
});
document.getElementById("table_body").innerHTML=tableData;
})

function MoreInfo(id){
  sessionStorage.setItem("CustomerMoreInfoTrip",id);
  window.location="CustomerSpecTripDetails.html";
}

  
  /*
    // Create a button element
    const button = document.createElement('button')
  
    // Set the button text to 'Can you click me?'
    button.innerText = 'Accept'
  
    button.id = 'mainButton'
  
    // Attach the "click" event to your button
    button.addEventListener('click', () => {
      
    })
  
    document.body.appendChild(button)
  */	
  
  </script>
  <!-- end owl carousel script -->




</body>

</html>
